{"version":3,"sources":["reducers/tableData.js","components/table/index.js","components/table/Table.js","components/spinner/index.js","components/spinner/Spinner.js","containers/TableContainer.js","actions/index.js","services/tableDataService.js","services/sourceURLs.js","components/app/index.js","components/app/App.js","reducers/index.js","store.js","index.js"],"names":["initialState","tableData","loading","error","Table","changeSortingParams","sortField","sortDirection","length","tableHeaders","Object","keys","sortedTableContent","sort","a","b","toUpperCase","onClick","map","columnName","index","key","value","className","row","cell","Spinner","TableContainer","props","bind","state","this","setTableData","localStorage","setItem","JSON","stringify","setState","parse","e","target","getAttribute","Component","connect","dispatch","type","async","fetch","response","ok","Error","status","json","console","getTableData","then","payload","catch","tableDataError","message","App","combineReducers","action","store","createStore","reducer","applyMiddleware","thunk","app","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.02cdaa53.chunk.js","sourcesContent":["import { getTableData } from '../services/tableDataService';\nimport { tableDataRequested, tableDataLoaded, tableDataError } from '../actions';\n\nconst initialState = {\n  tableData: [],\n  loading: false,\n  error: null\n}\n\nexport default (state = initialState, action) => {\n  switch (action.type) {\n    case 'FETCH_TABLE_DATA_REQUEST':\n      return {\n        ...state,\n        loading: true,\n        error: null\n      }\n    case 'FETCH_TABLE_DATA_SUCCESS':\n      return {\n        ...state,\n        tableData: action.payload,\n        loading: false,\n        error: null\n      }\n    case 'FETCH_TABLE_DATA_FAILURE':\n      return {\n        ...state,\n        loading: false,\n        error: action.payload\n      }\n    default:\n      return state;\n  }\n}\n\nexport const setTableData = () => dispatch => {\n  dispatch(tableDataRequested());\n  getTableData()\n    .then(response => dispatch(tableDataLoaded(response)))\n    .catch(error => dispatch(tableDataError(error.message)))\n}","import Table from './Table';\n\nexport default Table;","import React from 'react';\nimport './Table.scss';\n\nconst Table = ({ tableData, changeSortingParams, sortField, sortDirection }) => {\n\n  if (!tableData.length) return <p>Нет данных</p>\n\n  const tableHeaders = Object.keys(tableData[0]);\n\n  const sortedTableContent = tableData.sort((a, b) => {\n    if (sortField) {\n      if (sortDirection === 'asc') {\n        if (a[sortField].toUpperCase() < b[sortField].toUpperCase()) return -1\n      } else {\n        if (a[sortField].toUpperCase() > b[sortField].toUpperCase()) return -1\n      }\n    }\n    return 0\n  });\n\n  return (\n    <table>\n      <thead>\n        <tr onClick={changeSortingParams}>\n          {tableHeaders.map((columnName, index) =>\n            <th key={index} value={columnName}>\n              {columnName}\n              {sortField === columnName && <span className={sortDirection}></span>}\n            </th>\n          )}\n        </tr>\n      </thead>\n\n      <tbody>\n        {sortedTableContent.map((row, index) =>\n          <tr key={index}>\n            {Object.keys(row).map((cell, index) => <td key={index}>{row[cell]}</td>)}\n          </tr>\n        )}\n      </tbody>\n    </table>\n  );\n}\n\nexport default Table;","import Spinner from './Spinner';\n\nexport default Spinner;","import React from 'react';\nimport './Spinner.scss';\n\nconst Spinner = () => {\n  return (\n    <div className=\"Spinner\">\n      <div className=\"SpinnerElements\">\n        <div></div>\n        <div></div>\n        <div></div>\n        <div></div>\n        <div></div>\n        <div></div>\n      </div>\n    </div>\n  )\n};\n\nexport default Spinner;","import React, { Component } from 'react';\nimport { connect } from 'react-redux';\nimport { setTableData } from '../reducers/tableData';\nimport Table from '../components/table';\nimport Spinner from '../components/spinner';\n\nclass TableContainer extends Component {\n  constructor(props) {\n    super(props);\n    this.changeSortingParams = this.changeSortingParams.bind(this);\n\n    this.state = {\n      sortField: '',\n      sortDirection: ''\n    }\n  }\n\n  componentDidMount() {\n    this.props.setTableData();\n    if (!localStorage[\"AmazingHiringTable\"]) {\n      localStorage.setItem(\"AmazingHiringTable\", JSON.stringify({ sortField: '', sortDirection: '' }));\n    }\n    this.setState({\n      sortField: JSON.parse(localStorage[\"AmazingHiringTable\"]).sortField,\n      sortDirection: JSON.parse(localStorage[\"AmazingHiringTable\"]).sortDirection\n    })\n  }\n\n  changeSortingParams(e) {\n    if (!this.state.sortDirection\n      || this.state.sortDirection === 'desc'\n      || this.state.sortField !== e.target.getAttribute('value')) {\n      this.setState({ sortDirection: 'asc' });\n      localStorage[\"AmazingHiringTable\"] =\n        JSON.stringify({ sortField: e.target.getAttribute('value'), sortDirection: 'asc' });\n    } else {\n      this.setState({ sortDirection: 'desc' })\n      localStorage[\"AmazingHiringTable\"] =\n        JSON.stringify({ sortField: e.target.getAttribute('value'), sortDirection: 'desc' });\n    }\n    this.setState({ sortField: e.target.getAttribute('value') });\n  }\n\n  render() {\n    if (this.props.loading) return <Spinner />\n    return (\n      <Table\n        tableData={this.props.tableData}\n        changeSortingParams={this.changeSortingParams}\n        sortField={this.state.sortField}\n        sortDirection={this.state.sortDirection}\n      />\n    )\n\n  }\n}\n\nconst mapStateToProps = ({ tableData: { tableData, loading, error } }) => {\n  return { tableData, loading, error }\n}\n\nexport default connect(mapStateToProps, { setTableData })(TableContainer);","const tableDataRequested = () => {\n  return {\n    type: 'FETCH_TABLE_DATA_REQUEST'\n  }\n}\n\nconst tableDataLoaded = tableData => {\n  return {\n    type: 'FETCH_TABLE_DATA_SUCCESS',\n    payload: tableData\n  }\n}\n\nconst tableDataError = error => {\n  return {\n    type: 'FETCH_TABLE_DATA_FAILURE',\n    payload: error\n  }\n}\n\nexport { tableDataRequested, tableDataLoaded, tableDataError };","import { getTableDataURL } from '../services/sourceURLs';\n\nexport const getTableData = async () => {\n  try {\n    const response = await fetch(getTableDataURL);\n    if (!response.ok) {\n      throw new Error(`Ошибка загрузки ${response.status}`)\n    } else {\n      return await response.json();\n    }\n  } catch (error) {\n    console.error('Ошибка:', error);\n    return ('Ошибка при загрузке');\n  }\n}","const getTableDataURL = 'https://raw.githubusercontent.com/blmzv/ah-frontend-intern/master/profiles.json';\n\nexport { getTableDataURL }","import App from './App';\n\nexport default App;","import React from 'react';\nimport TableContainer from '../../containers/TableContainer';\nimport './App.scss';\n\nconst App = () => {\n  return (\n    <div className=\"App\">\n      <TableContainer />\n    </div>\n  )\n}\n\nexport default App;","import { combineReducers } from 'redux';\nimport tableData from './tableData';\n\nexport default combineReducers({\n  tableData\n})","import { createStore, applyMiddleware } from 'redux';\nimport reducer from './reducers';\nimport thunk from 'redux-thunk';\n\nconst store = createStore(reducer, applyMiddleware(thunk));\n\nexport default store;","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport { Provider } from 'react-redux';\nimport App from './components/app';\nimport store from './store';\n\nimport './index.css';\n\nconst app = (\n  <Provider store={store}>\n    <App />\n  </Provider>\n)\n\nReactDOM.render(app, document.getElementById('root'));"],"sourceRoot":""}
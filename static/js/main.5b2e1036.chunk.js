(this["webpackJsonpamazing-hiring-2"]=this["webpackJsonpamazing-hiring-2"]||[]).push([[0],{20:function(e,t,a){e.exports=a(35)},31:function(e,t,a){},32:function(e,t,a){},33:function(e,t,a){},34:function(e,t,a){},35:function(e,t,a){"use strict";a.r(t);var r=a(0),n=a.n(r),i=a(4),l=a.n(i),o=a(6),c=a(14),s=a(15),u=a(18),g=a(16),m=a(5),p=a(19),d=a(8),b=a(7),E=a.n(b),h={tableData:[],loading:!1,error:null},f=(a(31),function(e){var t=e.tableData,a=e.changeSortingParams,r=e.sortField,i=e.sortDirection;if(!t.length)return n.a.createElement("p",null,"\u041d\u0435\u0442 \u0434\u0430\u043d\u043d\u044b\u0445");var l=Object.keys(t[0]),o=t.sort((function(e,t){if(r)if("asc"===i){if(e[r].toUpperCase()<t[r].toUpperCase())return-1}else if(e[r].toUpperCase()>t[r].toUpperCase())return-1;return 0}));return n.a.createElement("table",null,n.a.createElement("thead",null,n.a.createElement("tr",null,l.map((function(e,t){return n.a.createElement("th",{key:t},n.a.createElement("span",{onClick:a,value:e},e,r===e&&n.a.createElement("span",{className:i})))})))),n.a.createElement("tbody",null,o.map((function(e,t){return n.a.createElement("tr",{key:t},Object.keys(e).map((function(t,a){return n.a.createElement("td",{key:a},e[t])})))}))))}),T=(a(32),function(){return n.a.createElement("div",{className:"Spinner"},n.a.createElement("div",{className:"SpinnerElements"},n.a.createElement("div",null),n.a.createElement("div",null),n.a.createElement("div",null),n.a.createElement("div",null),n.a.createElement("div",null),n.a.createElement("div",null)))}),A=function(e){function t(e){var a;return Object(c.a)(this,t),(a=Object(u.a)(this,Object(g.a)(t).call(this,e))).changeSortingParams=a.changeSortingParams.bind(Object(m.a)(a)),a.state={sortField:"",sortDirection:""},a}return Object(p.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){this.props.setTableData(),localStorage.AmazingHiringTable||localStorage.setItem("AmazingHiringTable",JSON.stringify({sortField:"",sortDirection:""})),this.setState({sortField:JSON.parse(localStorage.AmazingHiringTable).sortField,sortDirection:JSON.parse(localStorage.AmazingHiringTable).sortDirection})}},{key:"changeSortingParams",value:function(e){this.state.sortDirection&&"desc"!==this.state.sortDirection&&this.state.sortField===e.currentTarget.getAttribute("value")?(this.setState({sortDirection:"desc"}),localStorage.AmazingHiringTable=JSON.stringify({sortField:e.currentTarget.getAttribute("value"),sortDirection:"desc"})):(this.setState({sortDirection:"asc"}),localStorage.AmazingHiringTable=JSON.stringify({sortField:e.currentTarget.getAttribute("value"),sortDirection:"asc"})),this.setState({sortField:e.currentTarget.getAttribute("value")})}},{key:"render",value:function(){return this.props.loading?n.a.createElement(T,null):n.a.createElement(f,{tableData:this.props.tableData,changeSortingParams:this.changeSortingParams,sortField:this.state.sortField,sortDirection:this.state.sortDirection})}}]),t}(r.Component),D=Object(o.b)((function(e){var t=e.tableData;return{tableData:t.tableData,loading:t.loading,error:t.error}}),{setTableData:function(){return function(e){e({type:"FETCH_TABLE_DATA_REQUEST"}),function(){var e;return E.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,E.a.awrap(fetch("https://raw.githubusercontent.com/blmzv/ah-frontend-intern/master/profiles.json"));case 3:if((e=t.sent).ok){t.next=8;break}throw new Error("\u041e\u0448\u0438\u0431\u043a\u0430 \u0437\u0430\u0433\u0440\u0443\u0437\u043a\u0438 ".concat(e.status));case 8:return t.next=10,E.a.awrap(e.json());case 10:return t.abrupt("return",t.sent);case 11:t.next=17;break;case 13:return t.prev=13,t.t0=t.catch(0),console.error("\u041e\u0448\u0438\u0431\u043a\u0430:",t.t0),t.abrupt("return","\u041e\u0448\u0438\u0431\u043a\u0430 \u043f\u0440\u0438 \u0437\u0430\u0433\u0440\u0443\u0437\u043a\u0435");case 17:case"end":return t.stop()}}),null,null,[[0,13]])}().then((function(t){return e({type:"FETCH_TABLE_DATA_SUCCESS",payload:t})})).catch((function(t){return e(function(e){return{type:"FETCH_TABLE_DATA_FAILURE",payload:e}}(t.message))}))}}})(A),S=(a(33),function(){return n.a.createElement("div",{className:"App"},n.a.createElement(D,null))}),v=a(2),y=Object(v.c)({tableData:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:h,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"FETCH_TABLE_DATA_REQUEST":return Object(d.a)({},e,{loading:!0,error:null});case"FETCH_TABLE_DATA_SUCCESS":return Object(d.a)({},e,{tableData:t.payload,loading:!1,error:null});case"FETCH_TABLE_DATA_FAILURE":return Object(d.a)({},e,{loading:!1,error:t.payload});default:return e}}}),O=a(17),F=Object(v.d)(y,Object(v.a)(O.a)),_=(a(34),n.a.createElement(o.a,{store:F},n.a.createElement(S,null)));l.a.render(_,document.getElementById("root"))}},[[20,1,2]]]);
//# sourceMappingURL=main.5b2e1036.chunk.js.map
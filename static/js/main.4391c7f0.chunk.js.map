{"version":3,"sources":["reducers/tableData.js","components/table/index.js","components/table/Table.js","containers/TableContainer.js","actions/index.js","services/tableDataService.js","services/sourceURLs.js","components/app/index.js","components/app/App.js","reducers/index.js","store.js","index.js"],"names":["initialState","tableData","loading","error","Table","changeSortingParams","sortField","sortDirection","length","onClick","Object","keys","map","columnName","index","key","value","className","sort","a","b","row","cell","TableContainer","props","bind","state","this","setTableData","localStorage","setItem","JSON","stringify","setState","parse","e","target","getAttribute","Component","connect","dispatch","type","async","fetch","response","ok","Error","status","json","console","getTableData","then","payload","catch","tableDataError","message","App","combineReducers","action","store","createStore","reducer","applyMiddleware","thunk","app","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.4391c7f0.chunk.js","sourcesContent":["import { getTableData } from '../services/tableDataService';\r\nimport { tableDataRequested, tableDataLoaded, tableDataError } from '../actions';\r\n\r\nconst initialState = {\r\n  tableData: [],\r\n  loading: false,\r\n  error: null\r\n}\r\n\r\nexport default (state = initialState, action) => {\r\n  switch (action.type) {\r\n    case 'FETCH_TABLE_DATA_REQUEST':\r\n      return {\r\n        ...state,\r\n        loading: true,\r\n        error: null\r\n      }\r\n    case 'FETCH_TABLE_DATA_SUCCESS':\r\n      return {\r\n        ...state,\r\n        tableData: action.payload,\r\n        loading: false,\r\n        error: null\r\n      }\r\n    case 'FETCH_TABLE_DATA_FAILURE':\r\n      return {\r\n        ...state,\r\n        loading: false,\r\n        error: action.payload\r\n      }\r\n    default:\r\n      return state;\r\n  }\r\n}\r\n\r\nexport const setTableData = () => dispatch => {\r\n  dispatch(tableDataRequested());\r\n  getTableData()\r\n    .then(response => dispatch(tableDataLoaded(response)))\r\n    .catch(error => dispatch(tableDataError(error.message)))\r\n}","import Table from './Table';\r\n\r\nexport default Table;","import React from 'react';\r\nimport './Table.scss';\r\n\r\nconst Table = ({ tableData, changeSortingParams, sortField, sortDirection }) => {\r\n\r\n  if (!tableData.length) return <p>Нет данных</p>\r\n\r\n  return (\r\n    <table>\r\n      <thead>\r\n        <tr onClick={changeSortingParams}>\r\n          {Object.keys(tableData[0]).map((columnName, index) =>\r\n            <th key={index} value={columnName}>\r\n              {columnName}\r\n              {sortField === columnName && <span className={sortDirection}></span>}\r\n            </th>\r\n          )}\r\n        </tr>\r\n      </thead>\r\n\r\n      <tbody>\r\n        {tableData.sort((a, b) => {\r\n          if (sortDirection === 'asc') {\r\n            if (a[sortField] < b[sortField]) return -1\r\n          } else {\r\n            if (a[sortField] > b[sortField]) return -1\r\n          }\r\n          return 0\r\n        }).map((row, index) =>\r\n          <tr key={index}>\r\n            {Object.keys(row).map((cell, index) => <td key={index}>{row[cell]}</td>)}\r\n          </tr>\r\n        )}\r\n      </tbody>\r\n    </table>\r\n  );\r\n}\r\n\r\nexport default Table;","import React, { Component } from 'react';\r\nimport { connect } from 'react-redux';\r\nimport { setTableData } from '../reducers/tableData';\r\nimport Table from '../components/table';\r\n\r\nclass TableContainer extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.changeSortingParams = this.changeSortingParams.bind(this);\r\n\r\n    this.state = {\r\n      sortField: '',\r\n      sortDirection: ''\r\n    }\r\n  }\r\n\r\n  componentDidMount() {\r\n    this.props.setTableData();\r\n    if (!localStorage[\"AmazingHiringTable\"]) {\r\n      localStorage.setItem(\"AmazingHiringTable\", JSON.stringify({ sortField: '', sortDirection: '' }));\r\n    }\r\n    this.setState({\r\n      sortField: JSON.parse(localStorage[\"AmazingHiringTable\"]).sortField,\r\n      sortDirection: JSON.parse(localStorage[\"AmazingHiringTable\"]).sortDirection\r\n    })\r\n  }\r\n\r\n  changeSortingParams(e) {\r\n    if (!this.state.sortDirection\r\n      || this.state.sortDirection === 'desc'\r\n      || this.state.sortField !== e.target.getAttribute('value')) {\r\n      this.setState({ sortDirection: 'asc' });\r\n      localStorage[\"AmazingHiringTable\"] =\r\n        JSON.stringify({ sortField: e.target.getAttribute('value'), sortDirection: 'asc' });\r\n    } else {\r\n      this.setState({ sortDirection: 'desc' })\r\n      localStorage[\"AmazingHiringTable\"] =\r\n        JSON.stringify({ sortField: e.target.getAttribute('value'), sortDirection: 'desc' });\r\n    }\r\n    this.setState({ sortField: e.target.getAttribute('value') });\r\n  }\r\n\r\n  render() {\r\n    if (this.props.loading) return <p>loading</p>\r\n    return (\r\n      <Table\r\n        tableData={this.props.tableData}\r\n        changeSortingParams={this.changeSortingParams}\r\n        sortField={this.state.sortField}\r\n        sortDirection={this.state.sortDirection}\r\n      />\r\n    )\r\n\r\n  }\r\n}\r\n\r\nconst mapStateToProps = ({ tableData: { tableData, loading, error } }) => {\r\n  return { tableData, loading, error }\r\n}\r\n\r\nexport default connect(mapStateToProps, { setTableData })(TableContainer);","const tableDataRequested = () => {\r\n  return {\r\n    type: 'FETCH_TABLE_DATA_REQUEST'\r\n  }\r\n}\r\n\r\nconst tableDataLoaded = tableData => {\r\n  return {\r\n    type: 'FETCH_TABLE_DATA_SUCCESS',\r\n    payload: tableData\r\n  }\r\n}\r\n\r\nconst tableDataError = error => {\r\n  return {\r\n    type: 'FETCH_TABLE_DATA_FAILURE',\r\n    payload: error\r\n  }\r\n}\r\n\r\nexport { tableDataRequested, tableDataLoaded, tableDataError };","import { getTableDataURL } from '../services/sourceURLs';\r\n\r\nexport const getTableData = async () => {\r\n  try {\r\n    const response = await fetch(getTableDataURL);\r\n    if (!response.ok) {\r\n      throw new Error(`Ошибка загрузки ${response.status}`)\r\n    } else {\r\n      return await response.json();\r\n    }\r\n  } catch (error) {\r\n    console.error('Ошибка:', error);\r\n    return ('Ошибка при загрузке');\r\n  }\r\n}","const getTableDataURL = 'https://raw.githubusercontent.com/blmzv/ah-frontend-intern/master/profiles.json';\r\n\r\nexport { getTableDataURL }","import App from './App';\r\n\r\nexport default App;","import React from 'react';\r\nimport TableContainer from '../../containers/TableContainer';\r\nimport './App.scss';\r\n\r\nconst App = () => {\r\n  return (\r\n    <div className=\"App\">\r\n      <TableContainer />\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default App;","import { combineReducers } from 'redux';\r\nimport tableData from './tableData';\r\n\r\nexport default combineReducers({\r\n  tableData\r\n})","import { createStore, applyMiddleware } from 'redux';\r\nimport reducer from './reducers';\r\nimport thunk from 'redux-thunk';\r\n\r\nconst store = createStore(reducer, applyMiddleware(thunk));\r\n\r\nexport default store;","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport { Provider } from 'react-redux';\nimport App from './components/app';\nimport store from './store';\n\nimport './index.css';\n\nconst app = (\n  <Provider store={store}>\n    <App />\n  </Provider>\n)\n\nReactDOM.render(app, document.getElementById('root'));"],"sourceRoot":""}
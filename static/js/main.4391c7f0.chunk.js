(this["webpackJsonpamazing-hiring-2"]=this["webpackJsonpamazing-hiring-2"]||[]).push([[0],{20:function(t,e,a){t.exports=a(34)},31:function(t,e,a){},32:function(t,e,a){},33:function(t,e,a){},34:function(t,e,a){"use strict";a.r(e);var r=a(0),n=a.n(r),i=a(4),o=a.n(i),c=a(6),s=a(14),l=a(15),u=a(18),g=a(16),b=a(5),m=a(19),d=a(8),h=a(7),p=a.n(h),f={tableData:[],loading:!1,error:null},E=(a(31),function(t){var e=t.tableData,a=t.changeSortingParams,r=t.sortField,i=t.sortDirection;return e.length?n.a.createElement("table",null,n.a.createElement("thead",null,n.a.createElement("tr",{onClick:a},Object.keys(e[0]).map((function(t,e){return n.a.createElement("th",{key:e,value:t},t,r===t&&n.a.createElement("span",{className:i}))})))),n.a.createElement("tbody",null,e.sort((function(t,e){if("asc"===i){if(t[r]<e[r])return-1}else if(t[r]>e[r])return-1;return 0})).map((function(t,e){return n.a.createElement("tr",{key:e},Object.keys(t).map((function(e,a){return n.a.createElement("td",{key:a},t[e])})))})))):n.a.createElement("p",null,"\u041d\u0435\u0442 \u0434\u0430\u043d\u043d\u044b\u0445")}),A=function(t){function e(t){var a;return Object(s.a)(this,e),(a=Object(u.a)(this,Object(g.a)(e).call(this,t))).changeSortingParams=a.changeSortingParams.bind(Object(b.a)(a)),a.state={sortField:"",sortDirection:""},a}return Object(m.a)(e,t),Object(l.a)(e,[{key:"componentDidMount",value:function(){this.props.setTableData(),localStorage.AmazingHiringTable||localStorage.setItem("AmazingHiringTable",JSON.stringify({sortField:"",sortDirection:""})),this.setState({sortField:JSON.parse(localStorage.AmazingHiringTable).sortField,sortDirection:JSON.parse(localStorage.AmazingHiringTable).sortDirection})}},{key:"changeSortingParams",value:function(t){this.state.sortDirection&&"desc"!==this.state.sortDirection&&this.state.sortField===t.target.getAttribute("value")?(this.setState({sortDirection:"desc"}),localStorage.AmazingHiringTable=JSON.stringify({sortField:t.target.getAttribute("value"),sortDirection:"desc"})):(this.setState({sortDirection:"asc"}),localStorage.AmazingHiringTable=JSON.stringify({sortField:t.target.getAttribute("value"),sortDirection:"asc"})),this.setState({sortField:t.target.getAttribute("value")})}},{key:"render",value:function(){return this.props.loading?n.a.createElement("p",null,"loading"):n.a.createElement(E,{tableData:this.props.tableData,changeSortingParams:this.changeSortingParams,sortField:this.state.sortField,sortDirection:this.state.sortDirection})}}]),e}(r.Component),D=Object(c.b)((function(t){var e=t.tableData;return{tableData:e.tableData,loading:e.loading,error:e.error}}),{setTableData:function(){return function(t){t({type:"FETCH_TABLE_DATA_REQUEST"}),function(){var t;return p.a.async((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,p.a.awrap(fetch("https://raw.githubusercontent.com/blmzv/ah-frontend-intern/master/profiles.json"));case 3:if((t=e.sent).ok){e.next=8;break}throw new Error("\u041e\u0448\u0438\u0431\u043a\u0430 \u0437\u0430\u0433\u0440\u0443\u0437\u043a\u0438 ".concat(t.status));case 8:return e.next=10,p.a.awrap(t.json());case 10:return e.abrupt("return",e.sent);case 11:e.next=17;break;case 13:return e.prev=13,e.t0=e.catch(0),console.error("\u041e\u0448\u0438\u0431\u043a\u0430:",e.t0),e.abrupt("return","\u041e\u0448\u0438\u0431\u043a\u0430 \u043f\u0440\u0438 \u0437\u0430\u0433\u0440\u0443\u0437\u043a\u0435");case 17:case"end":return e.stop()}}),null,null,[[0,13]])}().then((function(e){return t({type:"FETCH_TABLE_DATA_SUCCESS",payload:e})})).catch((function(e){return t(function(t){return{type:"FETCH_TABLE_DATA_FAILURE",payload:t}}(e.message))}))}}})(A),S=(a(32),function(){return n.a.createElement("div",{className:"App"},n.a.createElement(D,null))}),T=a(2),y=Object(T.c)({tableData:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:f,e=arguments.length>1?arguments[1]:void 0;switch(e.type){case"FETCH_TABLE_DATA_REQUEST":return Object(d.a)({},t,{loading:!0,error:null});case"FETCH_TABLE_DATA_SUCCESS":return Object(d.a)({},t,{tableData:e.payload,loading:!1,error:null});case"FETCH_TABLE_DATA_FAILURE":return Object(d.a)({},t,{loading:!1,error:e.payload});default:return t}}}),v=a(17),O=Object(T.d)(y,Object(T.a)(v.a)),F=(a(33),n.a.createElement(c.a,{store:O},n.a.createElement(S,null)));o.a.render(F,document.getElementById("root"))}},[[20,1,2]]]);
//# sourceMappingURL=main.4391c7f0.chunk.js.map